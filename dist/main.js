(()=>{"use strict";const e=({timing:e,draw:t,duration:n})=>{let i=performance.now();requestAnimationFrame((function r(o){let s=(o-i)/n;s>1&&(s=1);let l=e(s);t(l),s<1&&requestAnimationFrame(r)}))};(()=>{const t=document.querySelector(".header-contacts__arrow"),n=document.getElementById("scrollPhone"),i=document.querySelector(".header-contacts__arrow"),r=document.querySelector(".menu>.menu__icon"),o=document.querySelector(".popup"),s=document.querySelectorAll('a[href^="#"]');for(let e of s)e.addEventListener("click",(function(t){t.preventDefault();const n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}));r.addEventListener("click",(()=>{window.screen.width>="767"&&e({duration:1200,timing:e=>1-Math.sin(Math.acos(e)),draw(e){o.style.right=46*e+"%",o.style.float="right"}})})),o.addEventListener("click",(e=>{(e.target.classList.contains("menu-link")||e.target.classList.contains("close-menu"))&&(o.style.cssText="right: 0%;")})),t.addEventListener("click",(()=>{i.classList.toggle("header-accord-arrow-active"),n.classList.toggle("header-accord-active")}))})(),(()=>{const t=document.querySelector(".popup-repair-types"),n=document.querySelectorAll(".open_popup"),i=document.querySelector(".popup-privacy"),r=document.querySelectorAll(".link-privacy"),o=document.getElementById("formula").querySelectorAll(".formula-item__icon"),s=document.querySelectorAll(".button_wide"),l=document.querySelector(".popup-consultation");s.forEach((e=>{e.addEventListener("click",(()=>{l.style="visibility: inherit;"}))})),o.forEach((t=>{t.addEventListener("mouseover",(()=>{e({duration:300,timing:e=>1-Math.sin(Math.acos(e)),draw(e){t.firstElementChild.style.opacity=e}}),"01"===t.innerText?t.firstElementChild.style="visibility: inherit; ":("02"===t.innerText||"03"===t.innerText||"04"===t.innerText||"05"===t.innerText||"06"===t.innerText)&&(t.firstElementChild.style="visibility: inherit;")})),t.addEventListener("mouseout",(()=>{t.firstElementChild.style=""}))})),r.forEach((e=>{e.addEventListener("click",(()=>{i.style="visibility: inherit;"}))})),n.forEach((e=>{e.addEventListener("click",(()=>{t.style="visibility: inherit;"}))})),document.body.addEventListener("click",(e=>{e.target.classList.contains("close")&&(t.style="",i.style="",l.style="")}))})(),(()=>{function e(e){if(this.el=this.getElement(e.selector),!this.el)return console.log("Что-то не так с селектором");this.layout=e.layout||"+7 (___) ___-__-__",this.maskreg=this.getRegexp(),this.setListeners()}window.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll("input[name=phone]");Array.prototype.forEach.call(t,(function(t){new e({selector:t,layout:t.dataset.mask})}))})),e.prototype.getRegexp=function(){var e=this.layout.replace(/_/g,"\\d");return(e=(e=(e=e.replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\+/g,"\\+")).replace(/\s/g,"\\s")},e.prototype.mask=function(e){var t=e.target,n=this.layout,i=0,r=n.replace(/\D/g,""),o=t.value.replace(/\D/g,"");r.length>=o.length&&(o=r),t.value=n.replace(/./g,(function(e){return/[_\d]/.test(e)&&i<o.length?o.charAt(i++):i>=o.length?"":e})),"blur"==e.type?new RegExp(this.maskreg).test(t.value)||(t.value=""):this.setCursorPosition(t.value.length,t)},e.prototype.setCursorPosition=function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},e.prototype.setListeners=function(){this.el.addEventListener("input",this.mask.bind(this),!1),this.el.addEventListener("focus",this.mask.bind(this),!1),this.el.addEventListener("blur",this.mask.bind(this),!1)},e.prototype.getElement=function(e){if(void 0===e)return!1;if(this.isElement(e))return e;if("string"==typeof e){var t=document.querySelector(e);if(this.isElement(t))return t}return!1},e.prototype.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument}})()})();