(()=>{"use strict";(()=>{const e=document.querySelector(".header-contacts__arrow"),t=document.getElementById("scrollPhone"),r=document.querySelector(".header-contacts__arrow"),n=document.querySelector(".menu>.menu__icon"),i=document.querySelector(".popup"),o=document.querySelector(".popup-dialog-menu"),s=document.querySelectorAll('a[href^="#"]');for(let e of s)e.addEventListener("click",(function(t){t.preventDefault();const r=e.getAttribute("href");document.querySelector(r).scrollIntoView({behavior:"smooth",block:"start"})}));n.addEventListener("click",(()=>{o.classList.add("showHide-menu")})),i.addEventListener("click",(e=>{(e.target.classList.contains("menu-link")||e.target.classList.contains("close-menu"))&&o.classList.remove("showHide-menu")})),e.addEventListener("click",(()=>{r.classList.toggle("header-accord-arrow-active"),t.classList.toggle("header-accord-active")}))})(),(()=>{const e=document.querySelector(".popup-repair-types"),t=document.querySelectorAll(".open_popup"),r=document.querySelector(".popup-privacy"),n=document.querySelectorAll(".link-privacy"),i=document.getElementById("formula").querySelectorAll(".formula-item__icon"),o=document.querySelectorAll(".button_wide"),s=document.querySelector(".popup-consultation");o.forEach((e=>{e.addEventListener("click",(()=>{s.style="visibility: inherit;"}))})),i.forEach((e=>{e.addEventListener("mouseover",(()=>{e.classList.add("active-item"),(({timing:e,draw:t,duration:r})=>{let n=performance.now();requestAnimationFrame((function i(o){let s=(o-n)/r;s>1&&(s=1);let l=e(s);t(l),s<1&&requestAnimationFrame(i)}))})({duration:300,timing:e=>1-Math.sin(Math.acos(e)),draw(t){e.firstElementChild.style.opacity=t}})})),e.addEventListener("mouseout",(()=>{e.classList.remove("active-item")}))})),n.forEach((e=>{e.addEventListener("click",(()=>{r.style="visibility: inherit;"}))})),t.forEach((t=>{t.addEventListener("click",(()=>{e.style="visibility: inherit;"}))})),document.body.addEventListener("click",(t=>{t.target.classList.contains("close")&&(e.style="",r.style="",s.style="")}))})(),(()=>{function e(e){if(this.el=this.getElement(e.selector),!this.el)return console.log("Что-то не так с селектором");this.layout=e.layout||"+7 (___) ___-__-__",this.maskreg=this.getRegexp(),this.setListeners()}window.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll("input[name=phone]");Array.prototype.forEach.call(t,(function(t){new e({selector:t,layout:t.dataset.mask})}))})),e.prototype.getRegexp=function(){var e=this.layout.replace(/_/g,"\\d");return(e=(e=(e=e.replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\+/g,"\\+")).replace(/\s/g,"\\s")},e.prototype.mask=function(e){var t=e.target,r=this.layout,n=0,i=r.replace(/\D/g,""),o=t.value.replace(/\D/g,"");i.length>=o.length&&(o=i),t.value=r.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<o.length?o.charAt(n++):n>=o.length?"":e})),"blur"==e.type?new RegExp(this.maskreg).test(t.value)||(t.value=""):this.setCursorPosition(t.value.length,t)},e.prototype.setCursorPosition=function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}},e.prototype.setListeners=function(){this.el.addEventListener("input",this.mask.bind(this),!1),this.el.addEventListener("focus",this.mask.bind(this),!1),this.el.addEventListener("blur",this.mask.bind(this),!1)},e.prototype.getElement=function(e){if(void 0===e)return!1;if(this.isElement(e))return e;if("string"==typeof e){var t=document.querySelector(e);if(this.isElement(t))return t}return!1},e.prototype.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument}})(),(()=>{const e=document.querySelector("#repair-types"),t=document.querySelectorAll(".repair-types-slider>.slider__type"),r=document.querySelectorAll(".repair-types-nav__item"),n=document.querySelector(".slider-counter-content__current"),i=document.querySelector(".slider-counter-content__total");let o=document.querySelectorAll(".types-repair1>.repair-types-slider__slide"),s=0;const l=(e,t,r)=>{e[t].classList.add(r)},a=(e,t,r)=>{e[t].classList.remove(r)},c=t=>{let r=0;n.innerText=1,i.innerText=t.length,e.addEventListener("click",(e=>{e.preventDefault(),l(t,r,"dnone"),e.target.matches("#repair-types-arrow_right, #svg-right, #path-right, #repair-types-arrow_left, #svg-left, #path-left")&&(e.target.matches("#repair-types-arrow_right, #svg-right, #path-right")?r++:e.target.matches("#repair-types-arrow_left, #svg-left, #path-left")&&r--,r>=t.length&&(r=0),r<0&&(r=t.length-1),a(t,r,"dnone"),n.innerText=r+1)}))};c(o),e.addEventListener("click",(e=>{e.preventDefault(),e.target.classList.contains("repair-types-nav__item")&&(l(t,s,"dnone"),a(r,s,"active"),e.target.classList.contains("repair-types-nav__item")&&r.forEach(((t,r)=>{e.target===t&&(s=r)})),"Частичный ремонт"===e.target.outerText?(o=document.querySelectorAll(".types-repair1>.repair-types-slider__slide"),c(o)):"Косметический ремонт"===e.target.outerText?(o=document.querySelectorAll(".types-repair2>.repair-types-slider__slide"),c(o)):"Капитальный ремонт"===e.target.outerText?(o=document.querySelectorAll(".types-repair3>.repair-types-slider__slide"),c(o)):"Евроремонт ремонт"===e.target.outerText?(o=document.querySelectorAll(".types-repair4>.repair-types-slider__slide"),c(o)):"Индивидуальный ремонт"===e.target.outerText&&(o=document.querySelectorAll(".types-repair5>.repair-types-slider__slide"),c(o)),a(t,s,"dnone"),l(r,s,"active"))}))})(),document.querySelectorAll(".title_block").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("msg-active")}))}))})();