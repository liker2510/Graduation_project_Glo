(()=>{"use strict";const e=({timing:e,draw:t,duration:r})=>{let i=performance.now();requestAnimationFrame((function n(s){let o=(s-i)/r;o>1&&(o=1);let l=e(o);t(l),o<1&&requestAnimationFrame(n)}))};(()=>{const t=document.querySelector(".header-contacts__arrow"),r=document.getElementById("scrollPhone"),i=document.querySelector(".header-contacts__arrow"),n=document.querySelector(".menu>.menu__icon"),s=document.querySelector(".popup"),o=document.querySelectorAll('a[href^="#"]');for(let e of o)e.addEventListener("click",(function(t){t.preventDefault();const r=e.getAttribute("href");document.querySelector(r).scrollIntoView({behavior:"smooth",block:"start"})}));n.addEventListener("click",(()=>{window.screen.width>="767"&&e({duration:1200,timing:e=>1-Math.sin(Math.acos(e)),draw(e){s.style.right=46*e+"%",s.style.float="right"}})})),s.addEventListener("click",(e=>{(e.target.classList.contains("menu-link")||e.target.classList.contains("close-menu"))&&(s.style.cssText="right: 0%;")})),t.addEventListener("click",(()=>{i.classList.toggle("header-accord-arrow-active"),r.classList.toggle("header-accord-active")}))})(),(()=>{const t=document.querySelector(".popup-repair-types"),r=document.querySelectorAll(".open_popup"),i=document.querySelector(".popup-privacy"),n=document.querySelectorAll(".link-privacy"),s=document.getElementById("formula").querySelectorAll(".formula-item__icon"),o=document.querySelectorAll(".button_wide"),l=document.querySelector(".popup-consultation");o.forEach((e=>{e.addEventListener("click",(()=>{l.style="visibility: inherit;"}))})),s.forEach((t=>{t.addEventListener("mouseover",(()=>{t.classList.add("active-item"),e({duration:300,timing:e=>1-Math.sin(Math.acos(e)),draw(e){t.firstElementChild.style.opacity=e}})})),t.addEventListener("mouseout",(()=>{t.classList.remove("active-item")}))})),n.forEach((e=>{e.addEventListener("click",(()=>{i.style="visibility: inherit;"}))})),r.forEach((e=>{e.addEventListener("click",(()=>{t.style="visibility: inherit;"}))})),document.body.addEventListener("click",(e=>{e.target.classList.contains("close")&&(t.style="",i.style="",l.style="")}))})(),(()=>{function e(e){if(this.el=this.getElement(e.selector),!this.el)return console.log("Что-то не так с селектором");this.layout=e.layout||"+7 (___) ___-__-__",this.maskreg=this.getRegexp(),this.setListeners()}window.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll("input[name=phone]");Array.prototype.forEach.call(t,(function(t){new e({selector:t,layout:t.dataset.mask})}))})),e.prototype.getRegexp=function(){var e=this.layout.replace(/_/g,"\\d");return(e=(e=(e=e.replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\+/g,"\\+")).replace(/\s/g,"\\s")},e.prototype.mask=function(e){var t=e.target,r=this.layout,i=0,n=r.replace(/\D/g,""),s=t.value.replace(/\D/g,"");n.length>=s.length&&(s=n),t.value=r.replace(/./g,(function(e){return/[_\d]/.test(e)&&i<s.length?s.charAt(i++):i>=s.length?"":e})),"blur"==e.type?new RegExp(this.maskreg).test(t.value)||(t.value=""):this.setCursorPosition(t.value.length,t)},e.prototype.setCursorPosition=function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}},e.prototype.setListeners=function(){this.el.addEventListener("input",this.mask.bind(this),!1),this.el.addEventListener("focus",this.mask.bind(this),!1),this.el.addEventListener("blur",this.mask.bind(this),!1)},e.prototype.getElement=function(e){if(void 0===e)return!1;if(this.isElement(e))return e;if("string"==typeof e){var t=document.querySelector(e);if(this.isElement(t))return t}return!1},e.prototype.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument}})(),(()=>{const e=document.querySelector("#repair-types"),t=document.querySelectorAll(".repair-types-slider>.slider__type"),r=document.querySelectorAll(".repair-types-nav__item"),i=document.querySelector(".slider-counter-content__current"),n=document.querySelector(".slider-counter-content__total");let s=document.querySelectorAll(".types-repair1>.repair-types-slider__slide"),o=0;const l=(e,t,r)=>{e[t].classList.add(r)},a=(e,t,r)=>{e[t].classList.remove(r)},c=t=>{let r=0;i.innerText=1,n.innerText=t.length,e.addEventListener("click",(e=>{e.preventDefault(),l(t,r,"dnone"),e.target.matches("#repair-types-arrow_right, #svg-right, #path-right, #repair-types-arrow_left, #svg-left, #path-left")&&(e.target.matches("#repair-types-arrow_right, #svg-right, #path-right")?r++:e.target.matches("#repair-types-arrow_left, #svg-left, #path-left")&&r--,r>=t.length&&(r=0),r<0&&(r=t.length-1),a(t,r,"dnone"),i.innerText=r+1)}))};c(s),e.addEventListener("click",(e=>{e.preventDefault(),e.target.classList.contains("repair-types-nav__item")&&(l(t,o,"dnone"),a(r,o,"active"),e.target.classList.contains("repair-types-nav__item")&&r.forEach(((t,r)=>{e.target===t&&(o=r)})),"Частичный ремонт"===e.target.outerText?(s=document.querySelectorAll(".types-repair1>.repair-types-slider__slide"),c(s)):"Косметический ремонт"===e.target.outerText?(s=document.querySelectorAll(".types-repair2>.repair-types-slider__slide"),c(s)):"Капитальный ремонт"===e.target.outerText?(s=document.querySelectorAll(".types-repair3>.repair-types-slider__slide"),c(s)):"Евроремонт ремонт"===e.target.outerText?(s=document.querySelectorAll(".types-repair4>.repair-types-slider__slide"),c(s)):"Индивидуальный ремонт"===e.target.outerText&&(s=document.querySelectorAll(".types-repair5>.repair-types-slider__slide"),c(s)),a(t,o,"dnone"),l(r,o,"active"))}))})(),document.querySelectorAll(".title_block").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("msg-active")}))}))})();